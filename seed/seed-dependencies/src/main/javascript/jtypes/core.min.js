/*! ------------------------------------------------------------------------
//                               jTypes 2.1.0b
//  ------------------------------------------------------------------------
//
//                   Copyright 2013 Gaulinsoft Corporation
//
//       Licensed under the Apache License, Version 2.0 (the "License");
//      you may not use this file except in compliance with the License.
//                   You may obtain a copy of the License at
//
//                 http://www.apache.org/licenses/LICENSE-2.0
//
//     Unless required by applicable law or agreed to in writing, software
//      distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
//                       limitations under the License.
*/
(function(E,y){var b=Object,oa=b.prototype,M=b.create,Za=b.defineProperties,j=b.defineProperty,x=b.freeze,Ka=b.getPrototypeOf,ta=b.keys,ca=b.preventExtensions,g=b.seal,A=oa.hasOwnProperty,$a=oa.toString,da=Array,pa=da.prototype,da=da.isArray,ab=pa.forEach,La=pa.indexOf,ha=String.prototype,bb=ha.replace,ha=ha.trim;if(!M||!j||!x||!Ka||!ca||!g||!da||!ab||!La||!ha)throw"jTypes Error: A browser that supports JavaScript 1.8.5 (MSIE 9+) is required.";var Da=function(a,d){a=a?"$$."+a:"$$";for(var b=[],j=
0,l=d.length;j<l;j++)b.push(k.type(d[j]));return"jTypes Error: "+k.format('"{0}({1})" has some invalid arguments.',a,b.join(", "))},p=function(a){return"jTypes Error: "+k.format.apply(k,arguments)},c=function(a,d){return j.call(b,k,a,{configurable:!1,enumerable:!1,value:d,writable:!1})},ca=function(a,d,Ca){return j.call(b,k,a,{configurable:!1,enumerable:!0,get:d||y,set:Ca||y})},Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Ma=[],Z=Z+Z.toLowerCase(),g=function(a){a||(a=3);var d="";do for(var d="",b=0;b<a;b++)d+=
Z.charAt(Math.floor(Z.length*Math.random()));while(0<=La.call(Ma,d));Ma.push(d);return"~"+d},Na=g(3),Oa=g(3),qa=g(3),cb=g(3),Pa=g(3),db=g(3),Qa=g(3),Ra=g(3),Ea=g(3),Fa=g(3),Sa=g(3),ua=g(3),va=g(3),wa=g(3),N=g(3),Ta=g(3),I=g(3),T=g(3),g=0,xa=g++,ya=g++,ia=g++,O=g++,F=g++,Ua=g++,g=0;g++;g++;g++;g++;g++;var J=function(){},g={constructor:J,toString:function(){return"[object Instance]"}};x.call(b,g);J.prototype=g;x.call(b,J);var eb=function(){return"[object Class]"},Va=!0,K=!0,za=!1,Wa=function(a,d,Ca,
k,l,p,g,q,z,u,m){var h={},n=l[ya],c=l[ia];h[ua]=!c&&g;h[va]=!c&&z;h[wa]=!c&&(u||g||q);h[N]=n.substr(5);h[Ta]=m;h[I]=p;h[T]=l[Ua];x.call(b,h);l[xa]?c?j.call(b,d,n,{enumerable:!0,value:h}):l[O]?j.call(b,Ca,n,{enumerable:!0,value:h}):l[F]&&j.call(b,k,n,{enumerable:!0,value:h}):j.call(b,a,n,{enumerable:!0,value:h})},Xa=function(a,d,b){d=d[b];if(d[ua]&&(a=A.call(a,b)&&a[b]||null,!a||a[I]!==d[I]))throw p('Class must implement the inherited abstract {1} "{0}" with the override modifier.',d[N],d[I]);},Ga=
function(a,d,b,j,l,k,g,q){b||(b=d);var c=null;g?c=j[a]||null:q&&(c=l[a]||null);if(k){if(!c||c[I]!==d||!c[wa]||c[va])throw p('"{0}" has no suitable {1} to override.',"~"===a.charAt(0)?a.substr(5):a,b);}else if(c&&c[ua])throw p('"{0}" must implement the inherited abstract {1} with the override modifier.',"~"===a.charAt(0)?a.substr(5):a,d);},Q=function(a,d,b){return"get"===b?{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:d.set}:"set"===b?{configurable:a.configurable,enumerable:a.enumerable,
get:d.get,set:a.set}:a},Ya=function(a,b,j,k,l,p,g,q,c){a.configurable=b;a.enumerable=!0;b=function(){var a=k.apply(j,arguments);return a===p||g&&a===g||a===l?q:a};"get"===c?a.get=b:"set"===c?a.set=b:a.value=b},ja=function(a,b,j,k){if(j[wa])if(j[va])k[b]=a;else return(j=k[b]||null)||(k[b]=a),j;else k[b]=null;return null},Ha=function(a,d,k,g,l,c,P,q,z,u,m,h,n){var v=d[a];switch(v[I]){case "field":d={};var e=v[N];a=d;var O=e,F=v[T],J=v[Sa]?c:null;a.configurable=!1;a.enumerable=!0;a.get=function(){return F};
a.set=J?function(a){if(J())throw p('"{0}" cannot be set because it is a read-only field.',O);F=a===m||h&&a===h||a===u?n:a}:function(a){F=a===m||h&&a===h||a===u?n:a};q||z?(j.call(b,u,e,d),K?j.call(b,h,e,d):(j.call(b,m,e,d),g[e]=d,l[e]=d),z&&j.call(b,n,e,d)):j.call(b,m,e,d);break;case "method":d={};e=v[N];c=m;q&&"~constructor"===e&&(K?(c=M.call(b,m),j.call(b,c,"__base",{get:function(){var a=m.__base;return a&&a["~constructor"]||null}}),x.call(b,c)):c=P);Ya(d,!1,c,v[T],u,m,h,n);q||z?(j.call(b,u,e,d),
q=(q=ja(d,a,v,k))?q:d,K?j.call(b,h,e,q):(j.call(b,m,e,q),g[e]=q,l[e]=d),z&&j.call(b,n,e,q)):j.call(b,m,e,d);break;case "property":c=a.substr(1,3);var e=v[N],w=v[Ta];P=w&&A.call(u,e);var s=w&&A.call(m,e),R=P||s;d={};Ya(d,w&&!R,m,v[T],u,m,h,n,c);!w||R?(w=w&&A.call(n,e),q||z?(j.call(b,u,e,P?Q(d,u[e],c):d),q=(q=ja(d,a,v,k))?q:d,K?(j.call(b,h,e,P?Q(q,h[e],c):q),s&&j.call(b,m,e,m[e])):(j.call(b,m,e,s?Q(q,m[e],c):q),g[e]=R&&A.call(g,e)?Q(q,g[e],c):q,l[e]=R&&A.call(l,e)?Q(d,l[e],c):d),z?j.call(b,n,e,w?Q(q,
n[e],c):q):w&&j.call(b,n,e,n[e])):R?(j.call(b,m,e,s?Q(d,m[e],c):d),P&&(j.call(b,u,e,u[e]),K&&j.call(b,h,e,h[e])),w&&j.call(b,n,e,n[e])):j.call(b,m,e,d)):q||z?(j.call(b,u,e,{configurable:!0,value:d}),q=(q=ja(d,a,v,k))?q:d,K?j.call(b,h,e,{configurable:!0,value:q}):(j.call(b,m,e,{configurable:!0,value:q}),g[e]=q,l[e]=d),z&&j.call(b,n,e,{configurable:!0,value:q})):j.call(b,m,e,{configurable:!0,value:d})}},Ia=function(a,d,k){for(var c in a)if(!A.call(k,c)){var g=a[c];j.call(b,k,c,g);d[c]=g}},k=function(){var a=
0,d=null,c=arguments[a++],g="",l=null;if(k.isSimpleObject(c))l=c,c=null;else if(l=arguments[a++],k.isFunction(c)||(k.isClass(c)?(d=c,k.isFunction(l)?(c=l,l=arguments[a++]):c=null):(g=k.asString(c),k.isClass(l)?(d=l,c=arguments[a++]):c=l,k.isFunction(c)?l=arguments[a++]:(l=c,c=null))),!k.isSimpleObject(l))throw Da(null,arguments);if(arguments.length!==a)throw Da(null,arguments);var E=!1,P=a=!1,q=!1,z=!1,u=!1;if(g)for(var g=g.trim().split(" ")||[],m=0,h=g.length;m<h;m++){var n=g[m];if("abstract"===
n)E=!0;else if("expando"===n)u=z=q=P=!0;else if("expando-private"===n||"private-expando"===n)q=!0;else if("expando-public"===n||"public-expando"===n)u=!0;else if("expando-prototype"===n||"prototype-expando"===n)z=!0;else if("expando-static"===n||"static-expando"===n)P=!0;else if("sealed"===n)a=!0;else if(n)throw p('"{0}" is not a valid class modifier.',n);}if(E&&a)throw p("Classes cannot have the abstract and sealed modifiers.");var v={},e=d?M.call(b,d[Ea]):{},m=new J,y=d?M.call(b,d[Fa]):{},n={},
g={},Q=d&&d[Ea]||null,Z=d&&d[Fa]||null,w;for(w in l)if(!("constructor"===w||"prototype"===w)){var s=v,R=e,Aa=y,S=n,U=g,f=w,B=l[w],ka=Q,la=Z,$=E,Ba=a,h="field";k.isFunction(B)?h="method":k.isSimpleObject(B)&&(h="property");var ma=k.asString(f).trim().split(" ")||[],f=k.asString(ma.pop());if(!f.trim())throw p('"" is not a valid {0} name.',h);if(!f.match(/^(_|\$|[a-z])[_\$a-z0-9]*$/i))throw p('"{1}" is not a valid {0} name.',h,f);for(var ea=!1,V=!1,r=!1,ra=!1,aa=!1,G=!1,ba=!1,W=!1,L=!1,H=!1,X=0,ca=ma.length;X<
ca;X++){var C=ma[X];if("field"!==h&&"abstract"===C)ea=!0;else if("field"!==h&&"override"===C)V=!0;else if("private"===C)G=!0;else if("protected"===C)ba=!0;else if("prototype"===C)L=!0;else if("public"===C)W=!0;else if("field"===h&&"readonly"===C)r=!0;else if("field"!==h&&"sealed"===C)ra=!0;else if("static"===C)H=!0;else if("field"!==h&&"virtual"===C)aa=!0;else if(C)throw p('"{1}" has an invalid {0} modifier "{2}".',h,f,C);}if("as"===f||"is"===f||"~constructor"===f||"constructor"===f||"prototype"===
f||"__base"===f||"__self"===f||"__this"===f)throw p('"{1}" is not a valid {0} name.',"member",f);if(G&&ba||G&&W||ba&&W)throw p('"{0}" cannot have more than one access modifier.',f);if(L||H){if(L){if(H)throw p('"{0}" cannot have the {1} and {2} modifiers.',f,"prototype","static");h="prototype";if(s[f]||R[f]||A.call(S,f)||Aa[f])throw p('"{0}" cannot have more than one definition or hide an inherited non-prototype member.',f);}else if(H&&(h="static",A.call(U,f)))throw p('"{0}" cannot have more than one static definition.',
f);if(ea||V||aa)throw p('"{0}" cannot have the abstract, virtual, or override modifiers because it is {1}.',f,h);if(G||ba||W)throw p('"{0}" cannot have the public, protected, or private modifiers because it is {1}.',f,h);if(r)throw p('"{0}" cannot have the readonly modifier because it is {1}.',f,h);}else{if(A.call(s,f)||A.call(R,f)||A.call(S,f)||A.call(Aa,f))throw p('"{0}" cannot have more than one definition.',f);!ba&&!W&&(G=!0)}if("method"===h||"property"===h){if(G&&(ea||V||aa))throw p('"{0}" cannot have the abstract, virtual, or override modifiers because it is {1}.',
f,"private");if(ea){if(ra)throw p('"{0}" cannot have the {1} and {2} modifiers.',f,"abstract","sealed");if(aa)throw p('"{0}" cannot have the {1} and {2} modifiers.',f,"abstract","virtual");if(!$)throw p('"{0}" cannot have the abstract modifier in a non-abstract class.',f);}if(V){if(aa)throw p('"{0}" cannot have the {1} and {2} modifiers.',f,"override","virtual");if(!ka&&!la)throw p('"{0}" has no suitable {1} to override.',f,h);}else if(ra)throw p('"{0}" cannot have the {1} modifier without the {2} modifier.',
f,"sealed","override");if(Ba&&aa)throw p('"{0}" cannot have the virtual modifier in a sealed class.',f);}$=null;G?$=s:ba?$=R:W&&($=Aa);switch(h){case "field":k.isReferenceType(B)&&(B=null);s={};s[Sa]=r;s[N]=f;s[I]=h;s[T]=B;x.call(b,s);j.call(b,$,f,{enumerable:!0,value:s});break;case "method":(ka||la)&&Ga(f,h,null,ka,la,V,ba,W);s={};s[ua]=ea;s[va]=ra;s[wa]=aa||ea||V;s[N]=f;s[I]=h;s[T]=B;x.call(b,s);j.call(b,$,f,{enumerable:!0,value:s});break;case "property":S=[];U=[];H=L=!1;Ba=void 0;for(Ba in B){var ma=
k.asString(Ba).trim().split(" ")||[],fa=k.asString(ma.pop()),X=B[Ba];if(!fa.trim())throw p('"{0}" must have at least one property accessor.',f);r=null;if("get"!==fa){if("set"!==fa)throw p('"{0}" cannot have a "{1}" property accessor.',f,fa);if(H)throw p('"{0}" cannot have more than one definition for the {1} accessor.',f,"set");H=!0;U[ya]="~set_"+f;r=U}else{if(L)throw p('"{0}" cannot have more than one definition for the {1} accessor.',f,"get");L=!0;S[ya]="~get_"+f;r=S}if(!k.isFunction(X))throw p('"{0}" must have a function for the {1} accessor.',
f,fa);r[ia]=!1;r[O]=!1;r[F]=!1;r[Ua]=X;X=0;for(ca=ma.length;X<ca;X++){var da=ma[X];if("private"===da)r[ia]=!0;else if("protected"===da)r[O]=!0;else if("public"===da)r[F]=!0;else if(C)throw p('"{0}" has an invalid modifier "{2}" on the {1} accessor.',f,fa,C);}r[xa]=r[ia]||r[O]||r[F];if(r[xa]){if(r[ia]&&r[O]||r[ia]&&r[F]||r[O]&&r[F])throw p('"{0}" cannot have more than one access modifier.',fa);if(r[F]||r[O]&&!W||r[ia]&&G)throw p('"{0}" must have a more restrictive access modifier on the {1} accessor.',
f,fa);}}if(!L&&!H)throw p('"{0}" must have at least one property accessor.',f);B=S[xa];G=U[xa];if(B&&G)throw p('"{0}" cannot have access modifiers on both property accessors.',f);if(L){if(!H&&B)throw p('"{0}" must have both accessors to have an access modifier on the {1} accessor.',f,"get");if(ka||la)Ga(S[ya],h,"get accessor",ka,la,V,B?S[O]:ba,B?S[F]:W);Wa($,s,R,Aa,S,h,ea,V,ra,aa,L&&H)}if(H){if(!L&&G)throw p('"{0}" must have both accessors to have an access modifier on the {1} accessor.',f,"set");
if(ka||la)Ga(U[ya],h,"set accessor",ka,la,V,G?U[O]:ba,G?U[F]:W);Wa($,s,R,Aa,U,h,ea,V,ra,aa,L&&H)}break;case "prototype":case "static":r={},r[N]=f,r[I]=h,r[T]=B,x.call(b,r),L?S[f]=r:H&&(U[f]=r)}}if(d){if(d[Ra])throw p("Classes cannot inherit from a sealed class.");if(d[Na]){l=ta.call(b,Q)||[];w=ta.call(b,Z)||[];m=0;for(h=l.length;m<h;m++)Xa(e,Q,l[m]);m=0;for(h=w.length;m<h;m++)Xa(y,Z,w[m])}za=!0;m=new d;za=!1}c||(c=function(){if(this.__base)return this.__base.apply(this,arguments)});l={};l[ua]=!1;
l[va]=!1;l[wa]=!1;l[N]="~constructor";l[I]="method";l[T]=c;x.call(b,l);j.call(b,e,"~constructor",{enumerable:!0,value:l});for(var sa in n)c=n[sa],"prototype"===c[I]&&j.call(b,m,c[N],{enumerable:!0,value:c[T]});x.call(b,v);x.call(b,e);x.call(b,y);var ha=ta.call(b,v)||[],oa=ta.call(b,e)||[],pa=ta.call(b,y)||[],ja=function(a,d,c,j,g,k,f,h){if(this===J){var l=null,p=a[0],m=null,n=a[2];K?(l=a[3],m=a[1]):l=a[1];a=0;for(var r=ha.length;a<r;a++)Ha(ha[a],v,null,null,null,f,null,!1,!1,l,p,m,n);a=0;for(r=oa.length;a<
r;a++)Ha(oa[a],e,g,c,d,f,h,!0,!1,l,p,m,n);a=0;for(r=pa.length;a<r;a++)Ha(pa[a],y,k,j,d,f,null,!1,!0,l,p,m,n);K&&(x.call(b,l),x.call(b,m),q||x.call(b,p),u||x.call(b,n))}},na=[];sa=d;for(var ga=1;k.isClass(sa);)na.push(sa),sa=sa[Oa];var Y=function(){if(!za){if(E)throw p("Abstract classes cannot be instantiated.");var a=this,d=[],c=!1,g=this instanceof Y;g||(za=!0,a=new Y,za=!1);j.call(b,a,"__self",{value:a});j.call(b,a,"as",{value:function(b){if(!k.isClass(b)||!(a instanceof b))return null;var c=0;
do if(na[c]===b)break;while(++c<ga);return d[c][2]}});j.call(b,a,"is",{value:function(b){return!b?!1:!!(a instanceof b)}});var f=a,e=null,h=null,l=a,m=function(){return c},n={},q={};if(K){h=a;for(t=ga-1;0<=t;t--)f=M.call(b,f),h=M.call(b,h),l=M.call(b,l),e=M.call(b,h),j.call(b,e,"__self",{value:a}),j.call(b,e,"__this",{value:l}),t!==ga-1&&j.call(b,e,"__base",{value:d[t+1][3]}),d[t]=[e,h,l,f];for(t=0;t<ga;t++)(0===t?ja:na[t][qa]).call(J,d[t],null,null,null,n,q,m)}else{for(var h=[],r=[],t=0;t<ga;t++){var f=
M.call(b,a),e={},l=M.call(b,a),s=M.call(b,e),u=[e,f,l],v={},w={},y={};(0===t?ja:na[t][qa]).call(J,u,v,w,y,n,q,m,s);d.push(u);h.push(s);r.push([v,w,y])}q=n=m=null;for(t=ga-1;0<=t;t--)u=d[t],f=u[1],e=u[0],l=u[2],j.call(b,e,"__self",{value:a}),j.call(b,e,"__this",{value:l}),t!==ga-1?(v=d[t+1][1],j.call(b,e,"__base",{value:v}),s=h[t],j.call(b,s,"__base",{value:v["~constructor"]}),x.call(b,s),v=m,w=n,y=q,s=r[t],m=s[0],n=s[1],q=s[2],Ia(v,m,f),Ia(w,n,e),Ia(y,q,l)):(s=r[t],m=s[0],n=s[1],q=s[2]),x.call(b,
f),na[t][Pa]||x.call(b,e),na[t][Qa]||x.call(b,l)}g&&e["~constructor"].apply(e,arguments);c=!0;console.log("$$: ----- INSTANTIATOR -----");console.log("$$: Instance Matrix");console.log(d);console.log("$$: Differential inheritance "+(K?"IS":"IS NOT")+" enabled...");return l}},ga=na.unshift(Y),D;for(D in g)c=g[D],"static"===c[I]&&j.call(b,Y,c[N],{enumerable:!0,value:c[T]});D={};D[Na]={value:E};D[Oa]={value:d};D[cb]={value:P};D[Pa]={value:q};D[db]={value:z};D[Qa]={value:u};D[Ra]={value:a};D[Fa]={value:y};
a||(D[qa]={value:ja},D[Ea]={value:e});Za.call(b,Y,D);j.call(b,m,"constructor",{value:Y});z||x.call(b,m);j.call(b,Y,"prototype",{value:m});Y.toString=eb;P||x.call(b,Y);console.log("$$: ----- COMPILER -----");console.log("$$: Private Definitions");console.log(v);console.log("$$: Protected Definitions");console.log(e);console.log("$$: Public Definitions");console.log(y);return Y};c("toString",function(){return"[object jTypes]"});j.call(b,k,"version",{configurable:!1,enumerable:!0,value:"2.1.0b",writable:!1});
var Ja={};"Array Boolean Date Function Number RegExp String".split(" ").forEach(function(a){var b=a.toLowerCase();Ja["[object "+a+"]"]=b;c("is"+a,function(a){return k.type(a)===b})});["Window","window","Global","global"].forEach(function(a){Ja["[object "+a+"]"]="window"});c("type",function(a){return null===a||a===y?a+"":a===E?"window":A.call(a,qa)&&"function"===typeof a[qa]?"class":a instanceof J?"instance":Ja[$a.call(a)]||"object"});c("isClass",function(a){return a&&"function"===typeof a[qa]});c("isFinite",
function(a){return!(!k.isNumber(a)||!isFinite(a))});c("isInfinity",function(a){return k.isNumber(a)&&!isNaN(a)&&!isFinite(a)});c("isInstance",function(a){return a===y||null===a?!1:!!(a instanceof J)});c("isNaN",function(a){return!(!k.isNumber(a)||!isNaN(a))});c("isNegativeInfinity",function(a){return k.isNumber(a)&&!isNaN(a)&&!isFinite(a)&&0>a});c("isNull",function(a){return null===a});c("isPositiveInfinity",function(a){return k.isNumber(a)&&!isNaN(a)&&!isFinite(a)&&0<a});c("isReferenceType",function(a){a=
k.type(a);return"undefined"!==a&&"null"!==a&&"boolean"!==a&&"number"!==a&&"string"!==a});c("isSimpleObject",function(a){return!a||"object"!==k.type(a)?!1:Ka.call(b,a)===oa});c("isUndefined",function(a){return a===y});c("isValueType",function(a){a=k.type(a);return"boolean"===a||"number"===a||"string"===a});c("isWindow",function(a){return a===E?!0:"window"===k.type(a)});c("asArray",function(a){if(null===a||a===y)return[];var b=k.type(a);return"array"===b?a:"boolean"===b||"number"===b||"string"===b?
[]:pa.slice.call(a,0)||[]});c("asBool",function(a){return!!a});c("asFloat",function(a){return parseFloat(a)});c("asInt",function(a){var b=parseInt(a,10);if(!isNaN(b))return b;b=parseFloat(a);return 9007199254740992<b?Infinity:-9007199254740992>b?-Infinity:NaN});c("asString",function(a){var b=k.type(a);return"string"===b?a:"boolean"===b||"number"===b?a+"":""});c("empty",function(){return function(){}});c("format",function(a){if(!k.isString(a))throw Da("format",arguments);var b=arguments;return bb.call(a,
/\{([0-9]{1,2})\}/g,function(a,c){var g=k.asInt(c)+1;return g>=b.length?a:k.asString(b[g])})});ca("debug",function(){return Va},function(a){Va=k.asBool(a)});ca("lazy",function(){return K},function(a){K=k.asBool(a)});if("function"===typeof define&&define.amd)define(function(){return k});else if("undefined"!==typeof module&&module&&module.exports)module.exports=k;else{if(E.$$===y||E.$$===E.jTypes)E.$$=k;E.jTypes=k}})("undefined"!==typeof window?window:{});